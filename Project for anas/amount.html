<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amount Entry</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Enter Amount</h1>
        <div id="amountForms" class="amountForms"></div>
        <button onclick="submitAmounts()">Submit</button>
        <div class="commonAmountContainer">
            <label for="commonAmount">Common Amount:</label>
            <input type="number" id="commonAmount" placeholder="Enter amount">
            <button onclick="applyCommonAmount()">Add Common Amount</button>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const names = JSON.parse(localStorage.getItem('names')) || [];
            const amountForms = document.getElementById('amountForms');

            names.forEach(name => {
                const form = document.createElement('div');
                form.classList.add('amountForm');

                const nameLabel = document.createElement('h2');
                nameLabel.textContent = `Amount entry for ${name}`;
                form.appendChild(nameLabel);

                const amountInput = document.createElement('input');
                amountInput.type = 'number';
                amountInput.placeholder = 'Enter amount';
                amountInput.required = true;
                amountInput.classList.add('amountInput');
                form.appendChild(amountInput);

                amountForms.appendChild(form);
            });
        });

        function submitAmounts() {
            const amountForms = document.querySelectorAll('.amountForm');
            const amountData = [];

            amountForms.forEach(form => {
                const name = form.querySelector('h2').textContent.replace('Amount entry for ', '');
                const amount = form.querySelector('.amountInput').value;

                amountData.push({ name, amount });
            });

            localStorage.setItem('amountData', JSON.stringify(amountData));
            window.location.href = 'result.html'; // Redirect to the result page
        }

        function applyCommonAmount() {
            const commonAmount = document.getElementById('commonAmount').value;
            const amountInputs = document.querySelectorAll('.amountInput');

            amountInputs.forEach(input => {
                input.value = commonAmount;
            });
        }
    </script>
</body>
</html>